=== API FRIEND SEARCH & SORT TEST CASES ===

1. Search Friends - Success Case (ASC)
GET urlBE/user/friend/search?text=a&sortOrder=asc&limit=20&offset=0
input: use query param
output:
{
    "success": true,
    "message": "Tìm thấy 3 bạn bè phù hợp",
    "data": {
        "friends": [
            {
                "id": "user003",
                "fullname": "Alice Johnson",
                "email": "alice.johnson@example.com",
                "bio": "Exploring the world one step at a time.",
                "coverPhoto": "https://example.com/covers/alice.jpg",
                "phone": "0933445566",
                "urlavatar": "https://example.com/avatars/alice.jpg"
            },
            {
                "id": "user004",
                "fullname": "Elsa",
                "email": "test4@example.com",
                "bio": "Exploring the world one step at a time.",
                "coverPhoto": "https://example.com/covers/alice.jpg",
                "phone": "0933445566",
                "urlavatar": "https://example.com/avatars/alice.jpg"
            },
            {
                "id": "user008",
                "fullname": "Phạm Thị Mai Anh",
                "email": "example8@gmail.com",
                "bio": "Chuyên viên marketing tại TP HCM",
                "coverPhoto": "https://example.com/covers/maianh.jpg",
                "phone": "0977889911",
                "urlavatar": "https://example.com/avatars/maianh.jpg"
            }
        ],
        "total": 3,
        "offset": 0,
        "limit": 20,
        "hasMore": false
    },
    "error": null,
    "code": 1
}

2. Search Friends - Success Case (DESC)
GET urlBE/user/friend/search?text=a&sortOrder=desc&limit=20&offset=0
input: use query param
output:
{
    "success": true,
    "message": "Tìm thấy 3 bạn bè phù hợp",
    "data": {
        "friends": [
            {
                "id": "user008",
                "fullname": "Phạm Thị Mai Anh",
                "email": "example8@gmail.com",
                "bio": "Chuyên viên marketing tại TP HCM",
                "coverPhoto": "https://example.com/covers/maianh.jpg",
                "phone": "0977889911",
                "urlavatar": "https://example.com/avatars/maianh.jpg"
            },
            {
                "id": "user004",
                "fullname": "Elsa",
                "email": "test4@example.com",
                "bio": "Exploring the world one step at a time.",
                "coverPhoto": "https://example.com/covers/alice.jpg",
                "phone": "0933445566",
                "urlavatar": "https://example.com/avatars/alice.jpg"
            },
            {
                "id": "user003",
                "fullname": "Alice Johnson",
                "email": "alice.johnson@example.com",
                "bio": "Exploring the world one step at a time.",
                "coverPhoto": "https://example.com/covers/alice.jpg",
                "phone": "0933445566",
                "urlavatar": "https://example.com/avatars/alice.jpg"
            }
        ],
        "total": 3,
        "offset": 0,
        "limit": 20,
        "hasMore": false
    },
    "error": null,
    "code": 1
}

3. Search Friends - Search by Email
GET urlBE/user/friend/search?text=gmail&sortOrder=asc&limit=20&offset=0
input: use query param
output:
{
    "success": true,
    "message": "Tìm thấy 1 bạn bè phù hợp",
    "data": {
        "friends": [
            {
                "id": "user008",
                "fullname": "Phạm Thị Mai Anh",
                "email": "example8@gmail.com",
                "bio": "Chuyên viên marketing tại TP HCM",
                "coverPhoto": "https://example.com/covers/maianh.jpg",
                "phone": "0977889911",
                "urlavatar": "https://example.com/avatars/maianh.jpg"
            }
        ],
        "total": 1,
        "offset": 0,
        "limit": 20,
        "hasMore": false
    },
    "error": null,
    "code": 1
}

4. Search Friends - Empty Text Error
GET urlBE/user/friend/search?text=&sortOrder=asc&limit=20&offset=0
input: use query param
output:
{
    "success": false,
    "message": "Vui lòng nhập từ khóa tìm kiếm",
    "data": null,
    "error": "Search text is required",
    "code": 0
}

5. Search Friends - No Text Parameter Error
GET urlBE/user/friend/search?sortOrder=asc&limit=20&offset=0
input: use query param
output:
{
    "success": false,
    "message": "Vui lòng nhập từ khóa tìm kiếm",
    "data": null,
    "error": "Search text is required",
    "code": 0
}

6. Search Friends - No Results Found
GET urlBE/user/friend/search?text=xyz123&sortOrder=asc&limit=20&offset=0
input: use query param
output:
{
    "success": true,
    "message": "Tìm thấy 0 bạn bè phù hợp",
    "data": {
        "friends": [],
        "total": 0,
        "offset": 0,
        "limit": 20,
        "hasMore": false
    },
    "error": null,
    "code": 1
}

7. Search Friends - With Pagination
GET urlBE/user/friend/search?text=a&sortOrder=asc&limit=2&offset=1
input: use query param
output:
{
    "success": true,
    "message": "Tìm thấy 3 bạn bè phù hợp",
    "data": {
        "friends": [
            {
                "id": "user004",
                "fullname": "Elsa",
                "email": "test4@example.com",
                "bio": "Exploring the world one step at a time.",
                "coverPhoto": "https://example.com/covers/alice.jpg",
                "phone": "0933445566",
                "urlavatar": "https://example.com/avatars/alice.jpg"
            },
            {
                "id": "user008",
                "fullname": "Phạm Thị Mai Anh",
                "email": "example8@gmail.com",
                "bio": "Chuyên viên marketing tại TP HCM",
                "coverPhoto": "https://example.com/covers/maianh.jpg",
                "phone": "0977889911",
                "urlavatar": "https://example.com/avatars/maianh.jpg"
            }
        ],
        "total": 3,
        "offset": 1,
        "limit": 2,
        "hasMore": false
    },
    "error": null,
    "code": 1
}

8. Search Friends - User Has No Friends
GET urlBE/user/friend/search?text=xyz&sortOrder=asc&limit=20&offset=0
input: use query param (user with empty friendList)
output:
{
    "success": true,
    "message": "Tìm thấy 0 bạn bè phù hợp",
    "data": {
        "friends": [],
        "total": 0,
        "offset": 0,
        "limit": 20,
        "hasMore": false
    },
    "error": null,
    "code": 1
}

// Sorting and Pagination for Friends List

9. Get All Friends - Success Case (ASC)
GET urlBE/user/friend/list?sortOrder=asc&limit=50&offset=0
input: use query param
output:
{
    "success": true,
    "message": "Lấy danh sách bạn bè thành công",
    "data": {
        "friends": [
            {
                "id": "user003",
                "fullname": "Alice Johnson",
                "email": "alice.johnson@example.com",
                "bio": "Exploring the world one step at a time.",
                "coverPhoto": "https://example.com/covers/alice.jpg",
                "phone": "0933445566",
                "urlavatar": "https://example.com/avatars/alice.jpg",
                "status": "online"
            },
            {
                "id": "user004",
                "fullname": "Elsa",
                "email": "test4@example.com",
                "bio": "Exploring the world one step at a time.",
                "coverPhoto": "https://example.com/covers/alice.jpg",
                "phone": "0933445566",
                "urlavatar": "https://example.com/avatars/alice.jpg",
                "status": "online"
            },
            {
                "id": "user008",
                "fullname": "Phạm Thị Mai Anh",
                "email": "example8@gmail.com",
                "bio": "Chuyên viên marketing tại TP HCM",
                "coverPhoto": "https://example.com/covers/maianh.jpg",
                "phone": "0977889911",
                "urlavatar": "https://example.com/avatars/maianh.jpg",
                "status": "away"
            }
        ],
        "total": 3,
        "offset": 0,
        "limit": 50,
        "hasMore": false
    },
    "error": null,
    "code": 1
}

10. Get All Friends - Success Case (DESC)
GET urlBE/user/friend/list?sortOrder=desc&limit=50&offset=0
input: use query param
output:
{
    "success": true,
    "message": "Lấy danh sách bạn bè thành công",
    "data": {
        "friends": [
            {
                "id": "user008",
                "fullname": "Phạm Thị Mai Anh",
                "email": "example8@gmail.com",
                "bio": "Chuyên viên marketing tại TP HCM",
                "coverPhoto": "https://example.com/covers/maianh.jpg",
                "phone": "0977889911",
                "urlavatar": "https://example.com/avatars/maianh.jpg",
                "status": "away"
            },
            {
                "id": "user004",
                "fullname": "Elsa",
                "email": "test4@example.com",
                "bio": "Exploring the world one step at a time.",
                "coverPhoto": "https://example.com/covers/alice.jpg",
                "phone": "0933445566",
                "urlavatar": "https://example.com/avatars/alice.jpg",
                "status": "online"
            },
            {
                "id": "user003",
                "fullname": "Alice Johnson",
                "email": "alice.johnson@example.com",
                "bio": "Exploring the world one step at a time.",
                "coverPhoto": "https://example.com/covers/alice.jpg",
                "phone": "0933445566",
                "urlavatar": "https://example.com/avatars/alice.jpg",
                "status": "online"
            }
        ],
        "total": 3,
        "offset": 0,
        "limit": 50,
        "hasMore": false
    },
    "error": null,
    "code": 1
}

11. Get All Friends - With Pagination
GET urlBE/user/friend/list?sortOrder=asc&limit=2&offset=1
input: use query param
output:
{
    "success": true,
    "message": "Lấy danh sách bạn bè thành công",
    "data": {
        "friends": [
            {
                "id": "user004",
                "fullname": "Elsa",
                "email": "test4@example.com",
                "bio": "Exploring the world one step at a time.",
                "coverPhoto": "https://example.com/covers/alice.jpg",
                "phone": "0933445566",
                "urlavatar": "https://example.com/avatars/alice.jpg",
                "status": "online"
            },
            {
                "id": "user008",
                "fullname": "Phạm Thị Mai Anh",
                "email": "example8@gmail.com",
                "bio": "Chuyên viên marketing tại TP HCM",
                "coverPhoto": "https://example.com/covers/maianh.jpg",
                "phone": "0977889911",
                "urlavatar": "https://example.com/avatars/maianh.jpg",
                "status": "away"
            }
        ],
        "total": 3,
        "offset": 1,
        "limit": 2,
        "hasMore": false
    },
    "error": null,
    "code": 1
}

12. Get All Friends - User Has No Friends
GET urlBE/user/friend/list?sortOrder=asc&limit=50&offset=0
input: use query param (user with empty friendList)
output:
{
    "success": true,
    "message": "Không có bạn bè nào",
    "data": {
        "friends": [],
        "total": 0,
        "offset": 0,
        "limit": 50,
        "hasMore": false
    },
    "error": null,
    "code": 1
}

13. Search Friends - Case Insensitive Search
GET urlBE/user/friend/search?text=ALICE&sortOrder=asc&limit=20&offset=0
input: use query param
output:
{
    "success": true,
    "message": "Tìm thấy 1 bạn bè phù hợp",
    "data": {
        "friends": [
            {
                "id": "user003",
                "fullname": "Alice Johnson",
                "email": "alice.johnson@example.com",
                "bio": "Exploring the world one step at a time.",
                "coverPhoto": "https://example.com/covers/alice.jpg",
                "phone": "0933445566",
                "urlavatar": "https://example.com/avatars/alice.jpg"
            }
        ],
        "total": 1,
        "offset": 0,
        "limit": 20,
        "hasMore": false
    },
    "error": null,
    "code": 1
}

14. Search Friends - Vietnamese Name Search
GET urlBE/user/friend/search?text=Phạm&sortOrder=asc&limit=20&offset=0
input: use query param
output:
{
    "success": true,
    "message": "Tìm thấy 1 bạn bè phù hợp",
    "data": {
        "friends": [
            {
                "id": "user008",
                "fullname": "Phạm Thị Mai Anh",
                "email": "example8@gmail.com",
                "bio": "Chuyên viên marketing tại TP HCM",
                "coverPhoto": "https://example.com/covers/maianh.jpg",
                "phone": "0977889911",
                "urlavatar": "https://example.com/avatars/maianh.jpg"
            }
        ],
        "total": 1,
        "offset": 0,
        "limit": 20,
        "hasMore": false
    },
    "error": null,
    "code": 1
}

15. Get All Friends - Default Parameters
GET urlBE/user/friend/list
input: use query param (no parameters, use defaults)
output:
{
    "success": true,
    "message": "Lấy danh sách bạn bè thành công",
    "data": {
        "friends": [
            {
                "id": "user003",
                "fullname": "Alice Johnson",
                "email": "alice.johnson@example.com",
                "bio": "Exploring the world one step at a time.",
                "coverPhoto": "https://example.com/covers/alice.jpg",
                "phone": "0933445566",
                "urlavatar": "https://example.com/avatars/alice.jpg"
            },
            {
                "id": "user004",
                "fullname": "Elsa",
                "email": "test4@example.com",
                "bio": "Exploring the world one step at a time.",
                "coverPhoto": "https://example.com/covers/alice.jpg",
                "phone": "0933445566",
                "urlavatar": "https://example.com/avatars/alice.jpg"
            },
            {
                "id": "user008",
                "fullname": "Phạm Thị Mai Anh",
                "email": "example8@gmail.com",
                "bio": "Chuyên viên marketing tại TP HCM",
                "coverPhoto": "https://example.com/covers/maianh.jpg",
                "phone": "0977889911",
                "urlavatar": "https://example.com/avatars/maianh.jpg"
            }
        ],
        "total": 3,
        "offset": 0,
        "limit": 50,
        "hasMore": false
    },
    "error": null,
    "code": 1
}

=== ERROR CASES ===

16. Search Friends - Server Error
GET urlBE/user/friend/search?text=alice&sortOrder=asc&limit=20&offset=0
input: use query param (database connection error)
output:
{
    "success": false,
    "message": "Lỗi server khi tìm kiếm bạn bè",
    "data": null,
    "error": "Database connection failed",
    "code": -1
}

17. Get All Friends - Server Error
GET urlBE/user/friend/list?sortOrder=asc&limit=50&offset=0
input: use query param (database connection error)
output:
{
    "success": false,
    "message": "Lỗi server khi lấy danh sách bạn bè",
    "data": null,
    "error": "Database connection failed",
    "code": -1
}

=== NOTES ===
- All endpoints require authentication (authMiddleware)
- Sort order based on first character of fullname using Vietnamese locale
- Current user is automatically excluded from results
- Only searches within user's friend list
- Supports pagination with limit and offset
- Search is case-insensitive
- Search works for both fullname and email fields
- Default sort order is 'asc', default limit is 50, default offset is 0